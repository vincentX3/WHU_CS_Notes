# 文件管理

## 0. 引入
- 何为软件？从某种抽象的角度，它们都是**文件**。无论是**OS**还是**应用软件**。
- 文件的物理存储位置，在**外存**。
- 文件为何是OS实现的**高度抽象**？
用户对于文件的操作（增删改查等），只需要提供**文件名**即可。

## 1. 文件系统的概念
### 1，1 文件和文件系统
1. 文件def
2. 文件系统
    - 主要功能
        > 实现文件的按名存取
    为用户提供接口
    实施对文件和目录的管理
    文件存储空间的分配及回收
    文件的共享及保护
    （review：为什么要共享👉1. 提高空间利用率 2. 进程通信要求 3. 减少版本冲突）
    - 层次结构
    通过合理分层实现抽象
    ![](./images/8file_system_architecture.png)

### 1.2 文件分类
> 我们印象中文件是怎么分类哒？Windows是依靠**后缀名**进行分类的。
but也有不一样的方式，*Linux*就不靠后缀名。

- 按用途
系统/库/用户
- 保护级别
只读/读写/执行/不保护
- 信息流
输入/输出/输入输出
- 数据形式
源/目标/可执行

**Unix**文件分类小览：
不依靠后缀名。

## 2. 文件结构与存储设备
### 2.1 文件逻辑结构
分类：**记录式文件** / **流式文件**
##### 记录式文件的组织形式（对比**DB数据库**）
顺序文件：一组记录按关键字的大小顺序排列所形成的文件。其中的记录通常是定长的。
索引文件：为文件设置一个索引表，文件中的每个记录在索引表中有一个表项，用于存放记录的存放地址及长度。
索引顺序文件：是前两者的结合。它将顺序文件中的所有记录分成若干组，为顺序文件建立一张索引表，为每组中的第一个记录建立一个索引项，其中含有该记录的键值和指向该记录的指针。

### 2.2 文件物理结构
